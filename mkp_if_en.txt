# Name: mkp_if_en v1.1 
# Type: Public plugin
# allowing Textpattern to detect an alternative URL that required English
# Author: Michael K Pate
# URL: https://github.com/michaelkpate/
# Recommended load order: 5

# .....................................................................
# This is a plugin for Textpattern CMS - http://textpattern.com/
# To install: textpattern > admin > plugins
# Paste the following text into the 'Install plugin' box:
# .....................................................................

YToxMTp7czo0OiJuYW1lIjtzOjk6Im1rcF9pZl9lbiI7czo2OiJhdXRob3IiO3M6MTQ6Ik1p
Y2hhZWwgSyBQYXRlIjtzOjEwOiJhdXRob3JfdXJpIjtzOjMyOiJodHRwczovL2dpdGh1Yi5j
b20vbWljaGFlbGtwYXRlLyI7czo3OiJ2ZXJzaW9uIjtzOjM6IjEuMSI7czoxMToiZGVzY3Jp
cHRpb24iO3M6NzE6ImFsbG93aW5nIFRleHRwYXR0ZXJuIHRvIGRldGVjdCBhbiBhbHRlcm5h
dGl2ZSBVUkwgdGhhdCByZXF1aXJlZCBFbmdsaXNoIjtzOjQ6ImNvZGUiO3M6OTg2OiIvLyBU
WFAgNC42IHRhZyByZWdpc3RyYXRpb24NCmlmIChjbGFzc19leGlzdHMoJ1xUZXh0cGF0dGVy
blxUYWdcUmVnaXN0cnknKSkgew0KVHhwOjpnZXQoJ1xUZXh0cGF0dGVyblxUYWdcUmVnaXN0
cnknKQ0KLT5yZWdpc3RlcignbWtwX2lmX2VuJykNCjsNCn0NCg0KZnVuY3Rpb24gbWtwX2lm
X2VuKCRhdHRzLCAkdGhpbmc9JycpDQp7DQoNCglnbG9iYWwgJHZhcmlhYmxlOw0KDQoJLy8g
cHJlZ19yZXBsYWNlKCJ8Xmh0dHBzPzovL1teL10rfGkiLCAiIiwgc2VydmVyU2V0KCdSRVFV
RVNUX1VSSScpKSB3YXMgY29waWVkIGZyb20gdGhlIGZ1bmN0aW9uIHByZVRleHQgaW4gcHVi
bGlzaC5waHANCg0KCSRwYXJ0cyA9IGV4cGxvZGUoJy8nLCBwcmVnX3JlcGxhY2UoInxeaHR0
cHM/Oi8vW14vXSt8aSIsICIiLCBzZXJ2ZXJTZXQoJ1JFUVVFU1RfVVJJJykpLCA1KTsNCg0K
CS8vIGlmIHRoZSB1cmwgYmVnaW5zIHdpdGggJ2VuJyB0aGlzIHdpbGwgcmV0dXJuIHRydWU7
IG90aGVyd2lzZSBmYWxzZQ0KDQoJaWYgKCRwYXJ0c1sxXSA9PSAnZW4nKSB7DQoNCgkJLy8g
dGhlIHZhcmlhYmxlIHRhcmdldF9zZWN0aW9uIHdpbGwgcmV0dXJuIHRoZSBzZWN0aW9uIHNw
ZWNpZmllZCBpbiB0aGUgdXJsDQoNCgkJaWYgKGlzc2V0KCRwYXJ0c1syXSkpIHsgJHZhcmlh
YmxlWyd0YXJnZXRfc2VjdGlvbiddID0gJHBhcnRzWzJdOyB9DQoNCgkJLy8gdGhlIHZhcmlh
YmxlIHRhcmdldF9hcnRpY2xlIHdpbGwgcmV0dXJuIHRoZSBhcnRpY2xlIGlkIHNwZWNpZmll
ZCBpbiB0aGUgdXJsDQoNCgkJaWYgKGlzc2V0KCRwYXJ0c1szXSkpIHsgJHZhcmlhYmxlWyd0
YXJnZXRfYXJ0aWNsZSddID0gKGlzX251bWVyaWMoJHBhcnRzWzNdKSkgPyAkcGFydHNbM10g
OiBudWxsOyB9DQoNCgkJcmV0dXJuIHBhcnNlKEV2YWxFbHNlKCR0aGluZywgdHJ1ZSkpOw0K
DQp9IGVsc2Ugew0KDQoJCXJldHVybiBwYXJzZShFdmFsRWxzZSgkdGhpbmcsIGZhbHNlKSk7
DQp9DQoNCg0KfSI7czo0OiJ0eXBlIjtzOjE6IjAiO3M6NToib3JkZXIiO3M6MToiNSI7czo1
OiJmbGFncyI7czoxOiIwIjtzOjQ6ImhlbHAiO3M6MTM4NToiPGgxPm1rcF9pZl9lbjwvaDE+
Cgo8cD5UaGlzIGNvbmRpdGlvbmFsIHRhZyBleGFtaW5lcyB0aGUgdXJsIG9mIHRoZSBjdXJy
ZW50IHBhZ2UgYW5kIGRldGVybWluZXMgaWYgdGhlIHVybCBiZWdpbnMgd2l0aCAmIzgyMTY7
ZW4uJiM4MjE3OyBUaGlzIGFsbG93cyBmb3IgYSBjdXN0b20gcGFnZSB0byBiZSByZW5kZXJl
ZCBpbiBFbmdsaXNoLjwvcD4KCjxoMj5MaW5rczwvaDI+Cgo8dWw+Cgk8bGk+PGEgaHJlZj0i
aHR0cHM6Ly9naXRodWIuY29tL21pY2hhZWxrcGF0ZS9ta3BfaWZfZW4iPkdpdGh1YiBDb2Rl
IFJlcG9zaXRvcnk8L2E+PC9saT4KCTxsaT48YSBocmVmPSJodHRwczovL3Jhdy5naXRodWJ1
c2VyY29udGVudC5jb20vbWljaGFlbGtwYXRlL21rcF9pZl9hbXAvbWFzdGVyL21rcF9pZl9l
bi50eHQiPkRvd25sb2FkPC9hPjwvbGk+CjwvdWw+Cgo8aDI+bWtwX2lmX2VuPC9oMj4KCjxo
Mz5BdHRyaWJ1dGVzPC9oMz4KCjxoND5Ob25lPC9oND4KCjxoMz5FeGFtcGxlczwvaDM+Cgo8
cD5Zb3Ugd2lsbCB3YW50IHNvbWV0aGluZyBzaW1pbGFyIHRvIHRoaXMgaW4geW91ciBlcnJv
ciB0ZW1wbGF0ZSB0byBkaXNwbGF5IHRoZSBhbHRlcm5hdGl2ZSBmb3JtYXR0aW5nLjwvcD4K
CjxwcmU+PGNvZGU+Jmx0O3R4cDpta3BfaWZfZW4mZ3Q7CiAgJmx0O3R4cDpzbWRfaWYgZmll
bGQ9JnF1b3Q7dHhwdmFyOnRhcmdldF9hcnRpY2xlJnF1b3Q7IG9wZXJhdG9yPSZxdW90O2lz
dXNlZCZxdW90OyZndDsKICAgIFtpbmRpdmlkdWFsIGFydGljbGUgcGFnZSBoZWFkZXIgZGVz
aWduXQogICAgJmx0O3R4cDphcnRpY2xlX2N1c3RvbSBmb3JtPSZxdW90O1thcnRpY2xlIGZv
cm1dJnF1b3Q7IGlkPSYjMzk7Jmx0O3R4cDp2YXJpYWJsZSBuYW1lPSZxdW90O3RhcmdldF9h
cnRpY2xlJnF1b3Q7IC8mZ3Q7JiMzOTsgLyZndDsKICAgIFtpbmRpdmlkdWFsIGFydGljbGUg
cGFnZSBmb290ZXIgZGVzaWduXQogICZsdDt0eHA6ZWxzZSAvJmd0OwogICAgW3NlY3Rpb24g
cGFnZSBoZWFkZXIgZGVzaWduXQogICAgJmx0O3R4cDphcnRpY2xlX2N1c3RvbSBmb3JtPSZx
dW90O1thcnRpY2xlIGZvcm1dJnF1b3Q7IHNlY3Rpb249JiMzOTsmbHQ7dHhwOnZhcmlhYmxl
IG5hbWU9JnF1b3Q7dGFyZ2V0X3NlY3Rpb24mcXVvdDsgLyZndDsmIzM5OyAvJmd0OwogICAg
W3NlY3Rpb24gZm9vdGVyIGRlc2lnbl0KJmx0O3R4cDplbHNlIC8mZ3Q7CiBbc3RhbmRhcmQg
ZXJyb3IgcGFnZSBjb2RlXQombHQ7L3R4cDpfbWtwX2lmX2VuJmd0OzwvY29kZT48L3ByZT4K
CjxoMz5SZWxlYXNlIEhpc3Rvcnk8L2gzPgoKPHA+VmVyc2lvbiAxLjE6IE5vdmVtYmVyIDJu
ZCwgMjAxNiAoYWRkZWQgdGhlIHZhcmlhYmxlcyk8YnIgLz4KVmVyc2lvbiAxLjA6IE5vdmVt
YmVyIDFzdCwgMjAxNjwvcD4iO3M6MzoibWQ1IjtzOjMyOiIxZmI4M2EwZjU4ZTRkMWQzNDdj
YzhkOTFmZDZmMDM2NCI7fQ==

