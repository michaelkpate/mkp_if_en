# Name: mkp_if_en v1.1 
# Type: Public plugin
# allowing Textpattern to detect an alternative URL that required English
# Author: Michael K Pate
# URL: https://github.com/michaelkpate/
# Recommended load order: 5

# .....................................................................
# This is a plugin for Textpattern CMS - http://textpattern.com/
# To install: textpattern > admin > plugins
# Paste the following text into the 'Install plugin' box:
# .....................................................................

YToxMTp7czo0OiJuYW1lIjtzOjk6Im1rcF9pZl9lbiI7czo2OiJhdXRob3IiO3M6MTQ6Ik1p
Y2hhZWwgSyBQYXRlIjtzOjEwOiJhdXRob3JfdXJpIjtzOjMyOiJodHRwczovL2dpdGh1Yi5j
b20vbWljaGFlbGtwYXRlLyI7czo3OiJ2ZXJzaW9uIjtzOjM6IjEuMSI7czoxMToiZGVzY3Jp
cHRpb24iO3M6NzE6ImFsbG93aW5nIFRleHRwYXR0ZXJuIHRvIGRldGVjdCBhbiBhbHRlcm5h
dGl2ZSBVUkwgdGhhdCByZXF1aXJlZCBFbmdsaXNoIjtzOjQ6ImNvZGUiO3M6OTkzOiIvLyBU
WFAgNC42IHRhZyByZWdpc3RyYXRpb24NCmlmIChjbGFzc19leGlzdHMoJ1xUZXh0cGF0dGVy
blxUYWdcUmVnaXN0cnknKSkgew0KVHhwOjpnZXQoJ1xUZXh0cGF0dGVyblxUYWdcUmVnaXN0
cnknKQ0KLT5yZWdpc3RlcignbWtwX2lmX2VuJykNCjsNCn0NCg0KZnVuY3Rpb24gbWtwX2lm
X2VuKCRhdHRzLCAkdGhpbmc9JycpDQp7DQoNCglnbG9iYWwgJHZhcmlhYmxlOw0KDQoJLy8g
cHJlZ19yZXBsYWNlKCJ8Xmh0dHBzPzovL1teL10rfGkiLCAiIiwgc2VydmVyU2V0KCdSRVFV
RVNUX1VSSScpKSB3YXMgY29waWVkIGZyb20gdGhlIGZ1bmN0aW9uIHByZVRleHQgaW4gcHVi
bGlzaC5waHANCg0KCSRwYXJ0cyA9IGV4cGxvZGUoJy8nLCBwcmVnX3JlcGxhY2UoInxeaHR0
cHM/Oi8vW14vXSt8aSIsICIiLCBzZXJ2ZXJTZXQoJ1JFUVVFU1RfVVJJJykpLCA1KTsNCg0K
CS8vIGlmIHRoZSB1cmwgYmVnaW5zIHdpdGggJ2VuJyB0aGlzIHdpbGwgcmV0dXJuIHRydWU7
IG90aGVyd2lzZSBmYWxzZQ0KDQoJaWYgKCRwYXJ0c1sxXSA9PSAnZW4nKSB7DQoNCgkJLy8g
dGhlIHZhcmlhYmxlIHRhcmdldF9zZWN0aW9uIHdpbGwgcmV0dXJuIHRoZSBzZWN0aW9uIHNw
ZWNpZmllZCBpbiB0aGUgdXJsDQoNCgkJaWYgKGlzc2V0KCRwYXJ0c1syXSkpIHsgJHZhcmlh
YmxlWyd0YXJnZXRfc2VjdGlvbiddID0gJHBhcnRzWzJdIDogbnVsbDsgfQ0KDQoJCS8vIHRo
ZSB2YXJpYWJsZSB0YXJnZXRfYXJ0aWNsZSB3aWxsIHJldHVybiB0aGUgYXJ0aWNsZSBpZCBz
cGVjaWZpZWQgaW4gdGhlIHVybA0KDQoJCWlmIChpc3NldCgkcGFydHNbM10pKSB7ICR2YXJp
YWJsZVsndGFyZ2V0X2FydGljbGUnXSA9IChpc19udW1lcmljKCRwYXJ0c1szXSkpID8gJHBh
cnRzWzNdIDogbnVsbDsgfQ0KDQoJCXJldHVybiBwYXJzZShFdmFsRWxzZSgkdGhpbmcsIHRy
dWUpKTsNCg0KfSBlbHNlIHsNCg0KCQlyZXR1cm4gcGFyc2UoRXZhbEVsc2UoJHRoaW5nLCBm
YWxzZSkpOw0KfQ0KDQoNCn0iO3M6NDoidHlwZSI7czoxOiIwIjtzOjU6Im9yZGVyIjtzOjE6
IjUiO3M6NToiZmxhZ3MiO3M6MToiMCI7czo0OiJoZWxwIjtzOjEzODU6IjxoMT5ta3BfaWZf
ZW48L2gxPgoKPHA+VGhpcyBjb25kaXRpb25hbCB0YWcgZXhhbWluZXMgdGhlIHVybCBvZiB0
aGUgY3VycmVudCBwYWdlIGFuZCBkZXRlcm1pbmVzIGlmIHRoZSB1cmwgYmVnaW5zIHdpdGgg
JiM4MjE2O2VuLiYjODIxNzsgVGhpcyBhbGxvd3MgZm9yIGEgY3VzdG9tIHBhZ2UgdG8gYmUg
cmVuZGVyZWQgaW4gRW5nbGlzaC48L3A+Cgo8aDI+TGlua3M8L2gyPgoKPHVsPgoJPGxpPjxh
IGhyZWY9Imh0dHBzOi8vZ2l0aHViLmNvbS9taWNoYWVsa3BhdGUvbWtwX2lmX2VuIj5HaXRo
dWIgQ29kZSBSZXBvc2l0b3J5PC9hPjwvbGk+Cgk8bGk+PGEgaHJlZj0iaHR0cHM6Ly9yYXcu
Z2l0aHVidXNlcmNvbnRlbnQuY29tL21pY2hhZWxrcGF0ZS9ta3BfaWZfYW1wL21hc3Rlci9t
a3BfaWZfZW4udHh0Ij5Eb3dubG9hZDwvYT48L2xpPgo8L3VsPgoKPGgyPm1rcF9pZl9lbjwv
aDI+Cgo8aDM+QXR0cmlidXRlczwvaDM+Cgo8aDQ+Tm9uZTwvaDQ+Cgo8aDM+RXhhbXBsZXM8
L2gzPgoKPHA+WW91IHdpbGwgd2FudCBzb21ldGhpbmcgc2ltaWxhciB0byB0aGlzIGluIHlv
dXIgZXJyb3IgdGVtcGxhdGUgdG8gZGlzcGxheSB0aGUgYWx0ZXJuYXRpdmUgZm9ybWF0dGlu
Zy48L3A+Cgo8cHJlPjxjb2RlPiZsdDt0eHA6bWtwX2lmX2VuJmd0OwogICZsdDt0eHA6c21k
X2lmIGZpZWxkPSZxdW90O3R4cHZhcjp0YXJnZXRfYXJ0aWNsZSZxdW90OyBvcGVyYXRvcj0m
cXVvdDtpc3VzZWQmcXVvdDsmZ3Q7CiAgICBbaW5kaXZpZHVhbCBhcnRpY2xlIHBhZ2UgaGVh
ZGVyIGRlc2lnbl0KICAgICZsdDt0eHA6YXJ0aWNsZV9jdXN0b20gZm9ybT0mcXVvdDtbYXJ0
aWNsZSBmb3JtXSZxdW90OyBpZD0mIzM5OyZsdDt0eHA6dmFyaWFibGUgbmFtZT0mcXVvdDt0
YXJnZXRfYXJ0aWNsZSZxdW90OyAvJmd0OyYjMzk7IC8mZ3Q7CiAgICBbaW5kaXZpZHVhbCBh
cnRpY2xlIHBhZ2UgZm9vdGVyIGRlc2lnbl0KICAmbHQ7dHhwOmVsc2UgLyZndDsKICAgIFtz
ZWN0aW9uIHBhZ2UgaGVhZGVyIGRlc2lnbl0KICAgICZsdDt0eHA6YXJ0aWNsZV9jdXN0b20g
Zm9ybT0mcXVvdDtbYXJ0aWNsZSBmb3JtXSZxdW90OyBzZWN0aW9uPSYjMzk7Jmx0O3R4cDp2
YXJpYWJsZSBuYW1lPSZxdW90O3RhcmdldF9zZWN0aW9uJnF1b3Q7IC8mZ3Q7JiMzOTsgLyZn
dDsKICAgIFtzZWN0aW9uIGZvb3RlciBkZXNpZ25dCiZsdDt0eHA6ZWxzZSAvJmd0OwogW3N0
YW5kYXJkIGVycm9yIHBhZ2UgY29kZV0KJmx0Oy90eHA6X21rcF9pZl9lbiZndDs8L2NvZGU+
PC9wcmU+Cgo8aDM+UmVsZWFzZSBIaXN0b3J5PC9oMz4KCjxwPlZlcnNpb24gMS4xOiBOb3Zl
bWJlciAybmQsIDIwMTYgKGFkZGVkIHRoZSB2YXJpYWJsZXMpPGJyIC8+ClZlcnNpb24gMS4w
OiBOb3ZlbWJlciAxc3QsIDIwMTY8L3A+IjtzOjM6Im1kNSI7czozMjoiMjIxNjVhNzA5ZDc3
YmNiNWUyZTM3OTAxM2NmYjc2MzYiO30=
